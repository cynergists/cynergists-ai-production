import{ba as y,r as v,u as x,j as e,e as S,E as C,b as A,B as k,s as g}from"./app-C0WycfZe.js";import{C as u,a as _}from"./card-Bi-8_L45.js";import{I as L}from"./input-B1mdCLd5.js";import{S as n}from"./skeleton-BtEvCpij.js";import{A as P}from"./AIAgentCard-BYf2yzXf.js";import{A as l}from"./AgentCarouselSection-CouJPZVj.js";import{P as q}from"./percent-CiIuCcpk.js";/* empty css            */import"./check-43nAdBq2.js";import"./zap-BleXdYhp.js";import"./message-square-DzeNICzx.js";import"./trending-up-CnnzyE8T.js";import"./star-BOUdgZzz.js";function J(){y();const[r,i]=v.useState(""),{data:p,isLoading:h}=x({queryKey:["partner-marketplace-agents"],queryFn:async()=>{const{data:t,error:a}=await g.from("portal_available_agents").select("*").eq("is_active",!0).order("sort_order",{ascending:!0});if(a)throw a;return t}}),{data:f,isLoading:j}=x({queryKey:["partner-settings"],queryFn:async()=>{const{data:t,error:a}=await g.from("partner_settings").select("global_discount_percent").limit(1).single();if(a)throw a;return t}}),o=f?.global_discount_percent||0,w=h||j,s=p?.filter(t=>t.name.toLowerCase().includes(r.toLowerCase())||(t.description?.toLowerCase().includes(r.toLowerCase())??!1))||[],c=s.filter(t=>t.category!=="Software").slice(0,6),m=s.filter(t=>t.is_popular&&t.category!=="Software"),b=s.filter(t=>t.category!=="Software").slice(-4),d=s.filter(t=>t.category==="Software"),N=r.length>0;return e.jsxs("div",{className:"p-4 md:p-8",children:[e.jsxs("div",{className:"mb-6 md:mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-foreground",children:"Partner Marketplace"}),o>0&&e.jsxs(S,{className:"bg-lime-500/10 text-lime-400 border-lime-500/20",children:[e.jsx(q,{className:"h-3 w-3 mr-1"}),o,"% Partner Discount"]})]}),e.jsx("p",{className:"text-muted-foreground text-sm md:text-base",children:"Browse AI agents at your exclusive partner pricing."})]}),e.jsx("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(C,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(L,{placeholder:"Search agents...",value:r,onChange:t=>i(t.target.value),className:"pl-10"})]})}),w?e.jsx("div",{className:"flex gap-6 overflow-hidden",children:[1,2,3,4].map(t=>e.jsx(u,{className:"flex-shrink-0 w-[360px]",children:e.jsxs("div",{className:"p-6",children:[e.jsx(n,{className:"h-6 w-20 mb-4"}),e.jsx(n,{className:"h-6 w-32 mb-2"}),e.jsx(n,{className:"h-4 w-full mb-4"}),e.jsx(n,{className:"h-24 w-full"})]})},t))}):N?e.jsx(e.Fragment,{children:s.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(t=>e.jsx(P,{agent:t,showDiscount:o>0,discountPercent:o},t.id))}):e.jsx(u,{children:e.jsxs(_,{className:"text-center py-12",children:[e.jsx(A,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No agents found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your search criteria."}),e.jsx(k,{variant:"outline",onClick:()=>i(""),children:"Clear Search"})]})})}):e.jsxs("div",{className:"space-y-12",children:[e.jsx(l,{title:"The latest.",subtitle:"Take a look at what's new, right now.",agents:c}),e.jsx(l,{title:"Most Popular",agents:m.length>0?m:c.slice(0,4)}),e.jsx(l,{title:"Planned Agents",subtitle:"Coming soon to the marketplace.",agents:b}),d.length>0&&e.jsx(l,{title:"Software.",subtitle:"Add the tools that power your workflows, ready to plug in and perform.",agents:d})]})]})}export{J as default};
