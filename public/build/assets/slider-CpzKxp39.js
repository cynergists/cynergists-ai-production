import{r as l,j as f,a0 as le,$ as de,a8 as C,a4 as A,a7 as _,ah as ue,b as fe}from"./app-DEGgoab9.js";import{c as F}from"./index-BdQq_4o_.js";import{u as me}from"./index-CfEoTzS4.js";import{u as pe}from"./index-D7gcp3at.js";function Se(e,t=[]){let n=[];function o(c,r){const a=l.createContext(r),d=n.length;n=[...n,r];const m=s=>{const{scope:u,children:S,...v}=s,x=u?.[e]?.[d]||a,h=l.useMemo(()=>v,Object.values(v));return f.jsx(x.Provider,{value:h,children:S})};m.displayName=c+"Provider";function p(s,u){const S=u?.[e]?.[d]||a,v=l.useContext(S);if(v)return v;if(r!==void 0)return r;throw new Error(`\`${s}\` must be used within \`${c}\``)}return[m,p]}const i=()=>{const c=n.map(r=>l.createContext(r));return function(a){const d=a?.[e]||c;return l.useMemo(()=>({[`__scope${e}`]:{...a,[e]:d}}),[a,d])}};return i.scopeName=e,[o,he(i,...t)]}function he(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const o=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(c){const r=o.reduce((a,{useScope:d,scopeName:m})=>{const s=d(c)[`__scope${m}`];return{...a,...s}},{});return l.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return n.scopeName=t.scopeName,n}var Y=["PageUp","PageDown"],X=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],G={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},M="Slider",[H,ge,xe]=de(M),[W]=Se(M,[xe]),[ve,B]=W(M),q=l.forwardRef((e,t)=>{const{name:n,min:o=0,max:i=100,step:c=1,orientation:r="horizontal",disabled:a=!1,minStepsBetweenThumbs:d=0,defaultValue:m=[o],value:p,onValueChange:s=()=>{},onValueCommit:u=()=>{},inverted:S=!1,form:v,...x}=e,h=l.useRef(new Set),g=l.useRef(0),w=r==="horizontal"?be:we,[b=[],j]=le({prop:p,defaultProp:m,onChange:y=>{[...h.current][g.current]?.focus(),s(y)}}),V=l.useRef(b);function N(y){const P=De(b,y);K(y,P)}function ae(y){K(y,g.current)}function ce(){const y=V.current[g.current];b[g.current]!==y&&u(b)}function K(y,P,{commit:T}={commit:!1}){const L=je(c),k=Ke(Math.round((y-o)/c)*c+o,L),I=F(k,[o,i]);j((D=[])=>{const R=Re(D,I,P);if(Me(R,d*c)){g.current=R.indexOf(I);const U=String(R)!==String(D);return U&&T&&u(R),U?R:D}else return D})}return f.jsx(ve,{scope:e.__scopeSlider,name:n,disabled:a,min:o,max:i,valueIndexToChangeRef:g,thumbs:h.current,values:b,orientation:r,form:v,children:f.jsx(H.Provider,{scope:e.__scopeSlider,children:f.jsx(H.Slot,{scope:e.__scopeSlider,children:f.jsx(w,{"aria-disabled":a,"data-disabled":a?"":void 0,...x,ref:t,onPointerDown:C(x.onPointerDown,()=>{a||(V.current=b)}),min:o,max:i,inverted:S,onSlideStart:a?void 0:N,onSlideMove:a?void 0:ae,onSlideEnd:a?void 0:ce,onHomeKeyDown:()=>!a&&K(o,0,{commit:!0}),onEndKeyDown:()=>!a&&K(i,b.length-1,{commit:!0}),onStepKeyDown:({event:y,direction:P})=>{if(!a){const k=Y.includes(y.key)||y.shiftKey&&X.includes(y.key)?10:1,I=g.current,D=b[I],R=c*k*P;K(D+R,I,{commit:!0})}}})})})})});q.displayName=M;var[J,Q]=W(M,{startEdge:"left",endEdge:"right",size:"width",direction:1}),be=l.forwardRef((e,t)=>{const{min:n,max:o,dir:i,inverted:c,onSlideStart:r,onSlideMove:a,onSlideEnd:d,onStepKeyDown:m,...p}=e,[s,u]=l.useState(null),S=_(t,w=>u(w)),v=l.useRef(void 0),x=me(i),h=x==="ltr",g=h&&!c||!h&&c;function E(w){const b=v.current||s.getBoundingClientRect(),j=[0,b.width],N=$(j,g?[n,o]:[o,n]);return v.current=b,N(w-b.left)}return f.jsx(J,{scope:e.__scopeSlider,startEdge:g?"left":"right",endEdge:g?"right":"left",direction:g?1:-1,size:"width",children:f.jsx(Z,{dir:x,"data-orientation":"horizontal",...p,ref:S,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const b=E(w.clientX);r?.(b)},onSlideMove:w=>{const b=E(w.clientX);a?.(b)},onSlideEnd:()=>{v.current=void 0,d?.()},onStepKeyDown:w=>{const j=G[g?"from-left":"from-right"].includes(w.key);m?.({event:w,direction:j?-1:1})}})})}),we=l.forwardRef((e,t)=>{const{min:n,max:o,inverted:i,onSlideStart:c,onSlideMove:r,onSlideEnd:a,onStepKeyDown:d,...m}=e,p=l.useRef(null),s=_(t,p),u=l.useRef(void 0),S=!i;function v(x){const h=u.current||p.current.getBoundingClientRect(),g=[0,h.height],w=$(g,S?[o,n]:[n,o]);return u.current=h,w(x-h.top)}return f.jsx(J,{scope:e.__scopeSlider,startEdge:S?"bottom":"top",endEdge:S?"top":"bottom",size:"height",direction:S?1:-1,children:f.jsx(Z,{"data-orientation":"vertical",...m,ref:s,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const h=v(x.clientY);c?.(h)},onSlideMove:x=>{const h=v(x.clientY);r?.(h)},onSlideEnd:()=>{u.current=void 0,a?.()},onStepKeyDown:x=>{const g=G[S?"from-bottom":"from-top"].includes(x.key);d?.({event:x,direction:g?-1:1})}})})}),Z=l.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:o,onSlideMove:i,onSlideEnd:c,onHomeKeyDown:r,onEndKeyDown:a,onStepKeyDown:d,...m}=e,p=B(M,n);return f.jsx(A.span,{...m,ref:t,onKeyDown:C(e.onKeyDown,s=>{s.key==="Home"?(r(s),s.preventDefault()):s.key==="End"?(a(s),s.preventDefault()):Y.concat(X).includes(s.key)&&(d(s),s.preventDefault())}),onPointerDown:C(e.onPointerDown,s=>{const u=s.target;u.setPointerCapture(s.pointerId),s.preventDefault(),p.thumbs.has(u)?u.focus():o(s)}),onPointerMove:C(e.onPointerMove,s=>{s.target.hasPointerCapture(s.pointerId)&&i(s)}),onPointerUp:C(e.onPointerUp,s=>{const u=s.target;u.hasPointerCapture(s.pointerId)&&(u.releasePointerCapture(s.pointerId),c(s))})})}),ee="SliderTrack",te=l.forwardRef((e,t)=>{const{__scopeSlider:n,...o}=e,i=B(ee,n);return f.jsx(A.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...o,ref:t})});te.displayName=ee;var z="SliderRange",ne=l.forwardRef((e,t)=>{const{__scopeSlider:n,...o}=e,i=B(z,n),c=Q(z,n),r=l.useRef(null),a=_(t,r),d=i.values.length,m=i.values.map(u=>se(u,i.min,i.max)),p=d>1?Math.min(...m):0,s=100-Math.max(...m);return f.jsx(A.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...o,ref:a,style:{...e.style,[c.startEdge]:p+"%",[c.endEdge]:s+"%"}})});ne.displayName=z;var O="SliderThumb",oe=l.forwardRef((e,t)=>{const n=ge(e.__scopeSlider),[o,i]=l.useState(null),c=_(t,a=>i(a)),r=l.useMemo(()=>o?n().findIndex(a=>a.ref.current===o):-1,[n,o]);return f.jsx(ye,{...e,ref:c,index:r})}),ye=l.forwardRef((e,t)=>{const{__scopeSlider:n,index:o,name:i,...c}=e,r=B(O,n),a=Q(O,n),[d,m]=l.useState(null),p=_(t,E=>m(E)),s=d?r.form||!!d.closest("form"):!0,u=ue(d),S=r.values[o],v=S===void 0?0:se(S,r.min,r.max),x=Ee(o,r.values.length),h=u?.[a.size],g=h?Ce(h,v,a.direction):0;return l.useEffect(()=>{if(d)return r.thumbs.add(d),()=>{r.thumbs.delete(d)}},[d,r.thumbs]),f.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${v}% + ${g}px)`},children:[f.jsx(H.ItemSlot,{scope:e.__scopeSlider,children:f.jsx(A.span,{role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":r.min,"aria-valuenow":S,"aria-valuemax":r.max,"aria-orientation":r.orientation,"data-orientation":r.orientation,"data-disabled":r.disabled?"":void 0,tabIndex:r.disabled?void 0:0,...c,ref:p,style:S===void 0?{display:"none"}:e.style,onFocus:C(e.onFocus,()=>{r.valueIndexToChangeRef.current=o})})}),s&&f.jsx(re,{name:i??(r.name?r.name+(r.values.length>1?"[]":""):void 0),form:r.form,value:S},o)]})});oe.displayName=O;var Pe="RadioBubbleInput",re=l.forwardRef(({__scopeSlider:e,value:t,...n},o)=>{const i=l.useRef(null),c=_(i,o),r=pe(t);return l.useEffect(()=>{const a=i.current;if(!a)return;const d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"value").set;if(r!==t&&p){const s=new Event("input",{bubbles:!0});p.call(a,t),a.dispatchEvent(s)}},[r,t]),f.jsx(A.input,{style:{display:"none"},...n,ref:c,defaultValue:t})});re.displayName=Pe;function Re(e=[],t,n){const o=[...e];return o[n]=t,o.sort((i,c)=>i-c)}function se(e,t,n){const c=100/(n-t)*(e-t);return F(c,[0,100])}function Ee(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function De(e,t){if(e.length===1)return 0;const n=e.map(i=>Math.abs(i-t)),o=Math.min(...n);return n.indexOf(o)}function Ce(e,t,n){const o=e/2,c=$([0,50],[0,o]);return(o-c(t)*n)*n}function _e(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function Me(e,t){if(t>0){const n=_e(e);return Math.min(...n)>=t}return!0}function $(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const o=(t[1]-t[0])/(e[1]-e[0]);return t[0]+o*(n-e[0])}}function je(e){return(String(e).split(".")[1]||"").length}function Ke(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var ie=q,Ie=te,Ae=ne,Be=oe;const Ve=l.forwardRef(({className:e,...t},n)=>f.jsxs(ie,{ref:n,className:fe("relative flex w-full touch-none select-none items-center",e),...t,children:[f.jsx(Ie,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:f.jsx(Ae,{className:"absolute h-full bg-primary"})}),f.jsx(Be,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Ve.displayName=ie.displayName;export{Ve as S};
