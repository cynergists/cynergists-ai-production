import{bd as y,u as w,j as e,B as r,L as a,A as n,b as h,e as C,g as _,f as A}from"./app-C0WycfZe.js";import{C as l,b as c,a as i,c as g,d as p}from"./card-Bi-8_L45.js";import{S as o}from"./skeleton-BtEvCpij.js";import{M as B}from"./message-square-DzeNICzx.js";import{f as k}from"./formatDistanceToNow-CjNVKmrT.js";/* empty css            */import"./endOfMonth-Drwn7qrJ.js";import"./endOfDay-3nYk500V.js";function P(){const{user:x}=y(),{data:t,isLoading:j}=w({queryKey:["portal-agents",x?.id],queryFn:async()=>(await A.get("/api/portal/agents")).agents,enabled:!!x?.id}),f=s=>h,N=s=>{switch(s){case"enterprise":return"bg-purple-500/10 text-purple-500 border-purple-500/20";case"pro":return"bg-blue-500/10 text-blue-500 border-blue-500/20";default:return"bg-gray-500/10 text-gray-500 border-gray-500/20"}},b=t?.reduce((s,d)=>s+(d.usage_count||0),0)??0,v=t?.length??0,m=t?.[0];return e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-8 flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-semibold text-foreground",children:"My AI Agents"}),e.jsx("p",{className:"mt-1 text-muted-foreground",children:"Manage your active lineup and jump into conversations fast."})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx(r,{asChild:!0,children:e.jsxs(a,{href:"/portal/browse",children:["Browse agents",e.jsx(n,{className:"ml-2 h-4 w-4"})]})}),e.jsx(r,{variant:"outline",asChild:!0,children:e.jsx(a,{href:"/portal/suggest",children:"Request an agent"})})]})]}),j?e.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(s=>e.jsxs(l,{children:[e.jsxs(c,{children:[e.jsx(o,{className:"h-6 w-32"}),e.jsx(o,{className:"h-4 w-24"})]}),e.jsx(i,{children:e.jsx(o,{className:"h-20 w-full"})})]},s))}):t?.length===0?e.jsx(l,{children:e.jsxs(i,{className:"text-center py-12",children:[e.jsx(h,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No agents yet"}),e.jsx("p",{className:"text-muted-foreground mb-6 max-w-md mx-auto",children:"You don't have any AI agents. Browse our marketplace to find the perfect agent for your needs."}),e.jsx(r,{asChild:!0,children:e.jsxs(a,{href:"/services/ai-agents",children:["Browse AI Agents",e.jsx(n,{className:"ml-2 h-4 w-4"})]})})]})}):e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-[320px,1fr]",children:[e.jsxs(l,{className:"h-full",children:[e.jsxs(c,{children:[e.jsx(g,{children:"Overview"}),e.jsx(p,{children:"Quick look at your portfolio."})]}),e.jsxs(i,{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"rounded-xl border border-border px-4 py-3",children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Active agents"}),e.jsx("p",{className:"text-2xl font-semibold text-foreground",children:v})]}),e.jsxs("div",{className:"rounded-xl border border-border px-4 py-3",children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Total messages"}),e.jsx("p",{className:"text-2xl font-semibold text-foreground",children:b})]}),e.jsxs("div",{className:"rounded-xl border border-border px-4 py-3",children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Latest agent"}),e.jsx("p",{className:"text-sm font-semibold text-foreground",children:m?.agent_name||"â€”"}),e.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:m?.agent_type||"No activity yet"})]}),e.jsx(r,{variant:"outline",asChild:!0,children:e.jsx(a,{href:"/portal/activity",children:"View activity"})})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:t?.map(s=>{const d=f(s.agent_type),u=s.subscription?.tier||"basic";return e.jsxs(l,{className:"group hover:shadow-lg transition-shadow",children:[e.jsxs(c,{className:"flex flex-row items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-12 w-12 rounded-xl bg-primary/10 flex items-center justify-center",children:e.jsx(d,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx(g,{className:"text-lg",children:s.agent_name}),e.jsx(p,{className:"capitalize",children:s.agent_type})]})]}),e.jsx(C,{variant:"outline",className:N(u),children:u})]}),e.jsxs(i,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsxs("span",{children:[s.usage_count||0," messages"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(_,{className:"h-4 w-4"}),e.jsx("span",{children:s.last_used_at?k(new Date(s.last_used_at),{addSuffix:!0}):"Never used"})]})]}),s.usage_limit&&e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Usage"}),e.jsxs("span",{children:[s.usage_count||0," / ",s.usage_limit]})]}),e.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary transition-all",style:{width:`${Math.min(100,(s.usage_count||0)/s.usage_limit*100)}%`}})})]}),e.jsx(r,{className:"w-full",asChild:!0,children:e.jsxs(a,{href:`/portal/agents/${s.id}/chat`,children:["Start Chat",e.jsx(n,{className:"ml-2 h-4 w-4"})]})})]})]},s.id)})})]})]})}export{P as default};
