import{v as p,r as a,q as j,j as e,H as o,L as l,B as c,d as b,aC as y,m as w,s as N}from"./app-yl1YHj2k.js";import{I as v}from"./input-B3tD5KH9.js";import{L as C}from"./label-C79MsPnt.js";import{g as k}from"./logger-Ls6Omhf8.js";import{C as E}from"./circle-check-big-DT-NY01w.js";/* empty css            */import"./index-ClWG0nRm.js";function q(){const{url:d}=p(),m=new URLSearchParams(d.split("?")[1]??"").get("email")||"",[s,x]=a.useState(m),[i,n]=a.useState(!1),[u,h]=a.useState(!1),{toast:g}=j(),f=async t=>{t.preventDefault(),n(!0);try{const{error:r}=await N.auth.resetPasswordForEmail(s,{redirectTo:`${window.location.origin}/reset-password`});if(r)throw r;h(!0)}catch(r){g({title:"Error",description:k(r),variant:"destructive"})}finally{n(!1)}};return u?e.jsxs(e.Fragment,{children:[e.jsx(o,{children:e.jsx("title",{children:"Check Your Email | Cynergists"})}),e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background",children:e.jsxs("div",{className:"w-full max-w-md bg-card border border-border rounded-2xl p-8 shadow-xl text-center",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"h-16 w-16 rounded-full bg-primary/20 flex items-center justify-center",children:e.jsx(E,{className:"h-8 w-8 text-primary"})})}),e.jsx("h1",{className:"text-2xl font-bold text-foreground mb-4",children:"Check Your Email"}),e.jsxs("p",{className:"text-muted-foreground mb-6",children:["We've sent a password reset link to ",e.jsx("strong",{children:s}),". Click the link in the email to reset your password."]}),e.jsx(l,{href:`/signin?email=${encodeURIComponent(s)}`,children:e.jsx(c,{variant:"outline",className:"border-border",children:"Return to Sign In"})})]})})]}):e.jsxs(e.Fragment,{children:[e.jsxs(o,{children:[e.jsx("title",{children:"Forgot Password | Cynergists"}),e.jsx("meta",{name:"description",content:"Reset your Cynergists account password."})]}),e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background",children:e.jsxs("div",{className:"w-full max-w-md bg-card border border-border rounded-2xl p-8 shadow-xl",children:[e.jsxs(l,{to:"/signin",state:{email:s},className:"inline-flex items-center text-sm text-muted-foreground hover:text-foreground mb-6",children:[e.jsx(b,{className:"h-4 w-4 mr-1"}),"Back to sign in"]}),e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("img",{src:y,alt:"Cynergists",className:"h-10 w-auto"})}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Forgot Password"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter your email and we'll send you a reset link."})]}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"email",children:"Email"}),e.jsx(v,{id:"email",type:"email",value:s,onChange:t=>x(t.target.value),placeholder:"you@company.com",required:!0,className:"bg-input border-border"})]}),e.jsx(c,{type:"submit",disabled:i,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground font-semibold py-3",children:i?e.jsx(w,{className:"h-4 w-4 animate-spin"}):"Send Reset Link"})]})]})})]})}export{q as default};
