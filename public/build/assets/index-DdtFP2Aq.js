import{r as a,j as b,ad as O,a3 as g,$ as D,a6 as j,a7 as I,ag as F}from"./app-Lw9toWEL.js";import{u as H}from"./index-Di_FMiVt.js";function L(e,u=[]){let o=[];function d(t,r){const c=a.createContext(r),s=o.length;o=[...o,r];const h=i=>{const{scope:p,children:m,...l}=i,k=p?.[e]?.[s]||c,_=a.useMemo(()=>l,Object.values(l));return b.jsx(k.Provider,{value:_,children:m})};h.displayName=t+"Provider";function x(i,p){const m=p?.[e]?.[s]||c,l=a.useContext(m);if(l)return l;if(r!==void 0)return r;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[h,x]}const n=()=>{const t=o.map(r=>a.createContext(r));return function(c){const s=c?.[e]||t;return a.useMemo(()=>({[`__scope${e}`]:{...c,[e]:s}}),[c,s])}};return n.scopeName=e,[d,z(n,...u)]}function z(...e){const u=e[0];if(e.length===1)return u;const o=()=>{const d=e.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(t){const r=d.reduce((c,{useScope:s,scopeName:h})=>{const i=s(t)[`__scope${h}`];return{...c,...i}},{});return a.useMemo(()=>({[`__scope${u.scopeName}`]:r}),[r])}};return o.scopeName=u.scopeName,o}var P="Checkbox",[G]=L(P),[K,R]=G(P);function U(e){const{__scopeCheckbox:u,checked:o,children:d,defaultChecked:n,disabled:t,form:r,name:c,onCheckedChange:s,required:h,value:x="on",internal_do_not_use_render:i}=e,[p,m]=D({prop:o,defaultProp:n??!1,onChange:s,caller:P}),[l,k]=a.useState(null),[_,f]=a.useState(null),C=a.useRef(!1),E=l?!!r||!!l.closest("form"):!0,S={checked:p,disabled:t,setChecked:m,control:l,setControl:k,name:c,form:r,value:x,hasConsumerStoppedPropagationRef:C,required:h,defaultChecked:v(n)?!1:n,isFormControl:E,bubbleInput:_,setBubbleInput:f};return b.jsx(K,{scope:u,...S,children:Q(i)?i(S):d})}var w="CheckboxTrigger",N=a.forwardRef(({__scopeCheckbox:e,onKeyDown:u,onClick:o,...d},n)=>{const{control:t,value:r,disabled:c,checked:s,required:h,setControl:x,setChecked:i,hasConsumerStoppedPropagationRef:p,isFormControl:m,bubbleInput:l}=R(w,e),k=j(n,x),_=a.useRef(s);return a.useEffect(()=>{const f=t?.form;if(f){const C=()=>i(_.current);return f.addEventListener("reset",C),()=>f.removeEventListener("reset",C)}},[t,i]),b.jsx(g.button,{type:"button",role:"checkbox","aria-checked":v(s)?"mixed":s,"aria-required":h,"data-state":$(s),"data-disabled":c?"":void 0,disabled:c,value:r,...d,ref:k,onKeyDown:I(u,f=>{f.key==="Enter"&&f.preventDefault()}),onClick:I(o,f=>{i(C=>v(C)?!0:!C),l&&m&&(p.current=f.isPropagationStopped(),p.current||f.stopPropagation())})})});N.displayName=w;var X=a.forwardRef((e,u)=>{const{__scopeCheckbox:o,name:d,checked:n,defaultChecked:t,required:r,disabled:c,value:s,onCheckedChange:h,form:x,...i}=e;return b.jsx(U,{__scopeCheckbox:o,checked:n,defaultChecked:t,disabled:c,required:r,onCheckedChange:h,name:d,form:x,value:s,internal_do_not_use_render:({isFormControl:p})=>b.jsxs(b.Fragment,{children:[b.jsx(N,{...i,ref:u,__scopeCheckbox:o}),p&&b.jsx(T,{__scopeCheckbox:o})]})})});X.displayName=P;var B="CheckboxIndicator",J=a.forwardRef((e,u)=>{const{__scopeCheckbox:o,forceMount:d,...n}=e,t=R(B,o);return b.jsx(O,{present:d||v(t.checked)||t.checked===!0,children:b.jsx(g.span,{"data-state":$(t.checked),"data-disabled":t.disabled?"":void 0,...n,ref:u,style:{pointerEvents:"none",...e.style}})})});J.displayName=B;var M="CheckboxBubbleInput",T=a.forwardRef(({__scopeCheckbox:e,...u},o)=>{const{control:d,hasConsumerStoppedPropagationRef:n,checked:t,defaultChecked:r,required:c,disabled:s,name:h,value:x,form:i,bubbleInput:p,setBubbleInput:m}=R(M,e),l=j(o,m),k=H(t),_=F(d);a.useEffect(()=>{const C=p;if(!C)return;const E=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(E,"checked").set,q=!n.current;if(k!==t&&y){const A=new Event("click",{bubbles:q});C.indeterminate=v(t),y.call(C,v(t)?!1:t),C.dispatchEvent(A)}},[p,k,t,n]);const f=a.useRef(v(t)?!1:t);return b.jsx(g.input,{type:"checkbox","aria-hidden":!0,defaultChecked:r??f.current,required:c,disabled:s,name:h,value:x,form:i,...u,tabIndex:-1,ref:l,style:{...u.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});T.displayName=M;function Q(e){return typeof e=="function"}function v(e){return e==="indeterminate"}function $(e){return v(e)?"indeterminate":e?"checked":"unchecked"}export{X as C,J as a};
