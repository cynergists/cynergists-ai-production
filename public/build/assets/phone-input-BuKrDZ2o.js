import{r as S,j as f,b as j}from"./app-DEGgoab9.js";import{I as E}from"./input-1skZDOCu.js";import{S as I,a as y,b as R,c as _,d as b}from"./select-JGGC0Mgv.js";const h=["201","202","203","205","206","207","208","209","210","212","213","214","215","216","217","218","219","224","225","228","229","231","234","239","240","248","251","252","253","254","256","260","262","267","269","270","272","276","281","301","302","303","304","305","307","308","309","310","312","313","314","315","316","317","318","319","320","321","323","325","330","331","334","336","337","339","340","346","347","351","352","360","361","364","380","385","386","401","402","404","405","406","407","408","409","410","412","413","414","415","417","419","423","424","425","430","432","434","435","440","442","443","458","469","470","475","478","479","480","484","501","502","503","504","505","507","508","509","510","512","513","515","516","517","518","520","530","531","534","539","540","541","551","559","561","562","563","567","570","571","573","574","575","580","585","586","601","602","603","605","606","607","608","609","610","612","614","615","616","617","618","619","620","623","626","628","629","630","631","636","641","646","650","651","657","660","661","662","667","669","678","680","681","682","701","702","703","704","706","707","708","712","713","714","715","716","717","718","719","720","724","725","727","730","731","732","734","737","740","747","754","757","760","762","763","765","769","770","772","773","774","775","779","781","785","786","801","802","803","804","805","806","808","810","812","813","814","815","816","817","818","828","830","831","832","843","845","847","848","850","854","856","857","858","859","860","862","863","864","865","870","872","878","901","903","904","906","907","908","909","910","912","913","914","915","916","917","918","919","920","925","928","929","930","931","934","936","937","938","940","941","947","949","951","952","954","956","959","970","971","972","973","978","979","980","984","985","989","204","226","236","249","250","289","306","343","365","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","778","780","782","807","819","825","867","873","902","905"],F=["2","32","33","34","35","36","38","42","43","44","45","46","47","48","49","52","53","54","55","56","62","63","64","65","72","74","75","77","78","82","83","84","85","86","87","88"],l=[{code:"US",name:"United States",dialCode:"+1",format:"(###) ###-####",areaCodes:h},{code:"PH",name:"Philippines",dialCode:"+63",format:"(###) ###-####",areaCodes:F},{code:"CA",name:"Canada",dialCode:"+1",format:"(###) ###-####",areaCodes:h},{code:"GB",name:"United Kingdom",dialCode:"+44",format:"(####) ######"},{code:"AU",name:"Australia",dialCode:"+61",format:"(##) #### ####"},{code:"MX",name:"Mexico",dialCode:"+52",format:"(###) ###-####"},{code:"IN",name:"India",dialCode:"+91",format:"(####) ######"},{code:"DE",name:"Germany",dialCode:"+49",format:"(###) #######"},{code:"FR",name:"France",dialCode:"+33",format:"(#) ## ## ## ##"},{code:"JP",name:"Japan",dialCode:"+81",format:"(##) ####-####"},{code:"BR",name:"Brazil",dialCode:"+55",format:"(##) #####-####"},{code:"CN",name:"China",dialCode:"+86",format:"(###) #### ####"}];function x(t){if(!t)return null;const a=t.replace(/[^\d+]/g,""),e=[...l].sort((o,d)=>d.dialCode.length-o.dialCode.length);for(const o of e)if(a.startsWith(o.dialCode))return o;return null}function D(t){if(!t||t.length<3)return null;const a=t.slice(0,3);if(h.includes(a))return l.find(e=>e.code==="US");if(t.startsWith("63"))return l.find(e=>e.code==="PH");if(t.startsWith("9")&&t.length>=10){const e=t[1];if(["0","1","2","3","4","5","6","7","8","9"].includes(e)&&h.includes(a))return l.find(o=>o.code==="US")}return t.length===10&&/^[2-9]/.test(t)?l.find(e=>e.code==="US"):null}function m(t,a){let e="",o=0;for(let d=0;d<a.length&&o<t.length;d++)a[d]==="#"?(e+=t[o],o++):e+=a[d];return e}function N(t,a){const e=t.replace(/[^\d]/g,""),o=a.replace(/[^\d]/g,"");return e.startsWith(o)?e.slice(o.length):e}function H(t){if(!t||!t.replace(/[^\d+]/g,""))return"â€”";const e=x(t);if(e){const i=N(t,e.dialCode),n=m(i,e.format);return e.code==="US"||e.code==="CA"?n:`${e.dialCode} ${n}`.trim()}const o=t.replace(/[^\d]/g,""),d=D(o);if(d){const i=m(o,d.format);return d.code==="US"||d.code==="CA"?i:`${d.dialCode} ${i}`.trim()}if(o.length===10){const i=l.find(n=>n.code==="US");return m(o,i.format)}return t}const W=S.forwardRef(({className:t,value:a,onChange:e,...o},d)=>{const i=x(a),[n,g]=S.useState(i||l[0]),P=a?N(a,n.dialCode):"",U=m(P,n.format);S.useEffect(()=>{const r=x(a);r&&r.code!==n.code&&g(r)},[a,n.code]);const A=r=>{const u=l.find(c=>c.code===r);if(u){g(u);const c=a.replace(/[^\d]/g,""),C=n.dialCode.replace(/[^\d]/g,""),s=c.startsWith(C)?c.slice(C.length):c,p=m(s,u.format);e(`${u.dialCode} ${p}`.trim())}},$=r=>{const c=r.target.value.replace(/[^\d]/g,"");if(c.length>=3){const s=D(c);if(s&&s.code!==n.code){g(s);const p=m(c,s.format);e(`${s.dialCode} ${p}`.trim());return}}const C=m(c,n.format);e(`${n.dialCode} ${C}`.trim())};return f.jsxs("div",{className:j("flex gap-2",t),children:[f.jsxs(I,{value:n.code,onValueChange:A,children:[f.jsx(y,{className:"w-[120px] shrink-0",children:f.jsxs(R,{children:[n.code," ",n.dialCode]})}),f.jsx(_,{children:l.map(r=>f.jsxs(b,{value:r.code,children:[r.code," ",r.dialCode," - ",r.name]},r.code))})]}),f.jsx(E,{ref:d,type:"tel",value:U,onChange:$,placeholder:n.format.replace(/#/g,"_"),className:"flex-1",...o})]})});W.displayName="PhoneInput";export{W as P,H as f};
