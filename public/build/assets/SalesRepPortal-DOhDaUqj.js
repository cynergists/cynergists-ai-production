import{r as m,s as n,i as c,j as s,m as b,H as w,aC as v,e as C,B as d,aa as S,U as x,R as _,n as T,C as h}from"./app-yl1YHj2k.js";import{C as e,b as a,c as t,a as r}from"./card-Dxx2nlaR.js";import{T as k}from"./target-BCTYrAYs.js";import{T as P}from"./trending-up-Dzkd9mbG.js";import{P as R}from"./phone-Ded4WSVQ.js";/* empty css            */function U(){const[u,j]=m.useState(!0),[l,p]=m.useState(null);m.useEffect(()=>{f()},[]);const f=async()=>{try{const{data:{session:i}}=await n.auth.getSession();if(!i){c.visit("/signin");return}const{data:y}=await n.rpc("has_role",{_user_id:i.user.id,_role:"sales_rep"});if(!y){c.visit("/signin");return}const{data:o}=await n.rpc("get_user_profile",{_user_id:i.user.id});o&&o.length>0&&p(o[0])}catch(i){console.error("Error loading sales rep portal:",i),c.visit("/signin")}finally{j(!1)}},g=async()=>{await n.auth.signOut(),c.visit("/signin")};if(u)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsx(b,{className:"h-8 w-8 animate-spin text-primary"})});const N=l?.first_name?`${l.first_name}${l.last_name?` ${l.last_name}`:""}`:"Sales Rep";return s.jsxs(s.Fragment,{children:[s.jsxs(w,{children:[s.jsx("title",{children:"Sales Rep Portal | Cynergists"}),s.jsx("meta",{name:"description",content:"Access your sales dashboard, track prospects, and manage your pipeline."})]}),s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b border-border bg-card",children:s.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("img",{src:v,alt:"Cynergists",className:"h-8 w-auto"}),s.jsx(C,{variant:"secondary",children:"Sales Rep Portal"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Welcome, ",N]}),s.jsxs(d,{variant:"outline",size:"sm",onClick:g,children:[s.jsx(S,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})]})}),s.jsxs("main",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Sales Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:"Track your prospects, clients, and performance metrics."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsxs(e,{children:[s.jsxs(a,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(t,{className:"text-sm font-medium",children:"Active Prospects"}),s.jsx(x,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(r,{children:[s.jsx("div",{className:"text-2xl font-bold",children:"0"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"In your pipeline"})]})]}),s.jsxs(e,{children:[s.jsxs(a,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(t,{className:"text-sm font-medium",children:"Closed This Month"}),s.jsx(k,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(r,{children:[s.jsx("div",{className:"text-2xl font-bold",children:"0"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Deals closed"})]})]}),s.jsxs(e,{children:[s.jsxs(a,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(t,{className:"text-sm font-medium",children:"Revenue Generated"}),s.jsx(_,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(r,{children:[s.jsx("div",{className:"text-2xl font-bold",children:"$0"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This month"})]})]}),s.jsxs(e,{children:[s.jsxs(a,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(t,{className:"text-sm font-medium",children:"Commission Earned"}),s.jsx(P,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(r,{children:[s.jsx("div",{className:"text-2xl font-bold",children:"$0"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This month"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(e,{children:[s.jsx(a,{children:s.jsx(t,{children:"Quick Actions"})}),s.jsxs(r,{className:"space-y-3",children:[s.jsxs(d,{variant:"outline",className:"w-full justify-start",children:[s.jsx(R,{className:"h-4 w-4 mr-2"}),"Log a Call"]}),s.jsxs(d,{variant:"outline",className:"w-full justify-start",children:[s.jsx(T,{className:"h-4 w-4 mr-2"}),"Send Email"]}),s.jsxs(d,{variant:"outline",className:"w-full justify-start",children:[s.jsx(h,{className:"h-4 w-4 mr-2"}),"Schedule Meeting"]})]})]}),s.jsxs(e,{className:"lg:col-span-2",children:[s.jsx(a,{children:s.jsx(t,{children:"Your Prospects"})}),s.jsx(r,{children:s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(x,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No prospects assigned yet."}),s.jsx("p",{className:"text-sm",children:"Contact your manager to get started."})]})})]})]}),s.jsxs(e,{className:"mt-6",children:[s.jsx(a,{children:s.jsx(t,{children:"Upcoming Tasks"})}),s.jsx(r,{children:s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(h,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No upcoming tasks."}),s.jsx("p",{className:"text-sm",children:"Your scheduled activities will appear here."})]})})]})]})]})]})}export{U as default};
