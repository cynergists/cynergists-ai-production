import{be as N,d as b,j as e,B as a,L as r,A as u,e as m,h as w}from"./app-Ce4dIZFB.js";import{C as l,b as d,c as n,a as i,d as f}from"./card-adEYQJfr.js";import{S as x}from"./skeleton-Bh3VGAjP.js";import{M as y}from"./message-square-Ccv44ihj.js";import{Z as v}from"./zap-BnrzAHNp.js";/* empty css            */function B(){const{user:o}=N(),{data:t,isLoading:c}=b({queryKey:["portal-stats",o?.id],queryFn:async()=>w.get("/api/portal/stats"),enabled:!!o?.id}),j=(t?.agentCount??0)>0,g=t?.recentAgents??[],h=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],p=[{day:"Mon",time:"9:00 AM",label:"Social post draft"},{day:"Tue",time:"11:00 AM",label:"Sales follow-up"},{day:"Wed",time:"2:00 PM",label:"Content refresh"},{day:"Thu",time:"9:30 AM",label:"Lead research"},{day:"Fri",time:"10:00 AM",label:"Weekly summary"}];return e.jsx("div",{className:"min-h-screen bg-background",children:e.jsxs("div",{className:"mx-auto flex max-w-6xl flex-col gap-8 p-8",children:[e.jsx("section",{className:"flex flex-col gap-6",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("p",{className:"text-sm font-medium text-primary",children:"Customer Portal"}),e.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-semibold text-foreground",children:["Welcome back",o?.email?`, ${o.email.split("@")[0]}`:"","."]}),e.jsx("p",{className:"text-muted-foreground",children:"Track your agents, content, and workflow in one place."})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx(a,{asChild:!0,children:e.jsxs(r,{href:"/portal/browse",children:["Browse agents",e.jsx(u,{className:"ml-2 h-4 w-4"})]})}),e.jsx(a,{variant:"outline",asChild:!0,children:e.jsx(r,{href:"/portal/suggest",children:"Request an agent"})})]})]})]})}),e.jsxs("section",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[e.jsxs(l,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(n,{className:"text-sm font-medium text-muted-foreground",children:"Active Agents"}),e.jsx(m,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(i,{children:c?e.jsx(x,{className:"h-8 w-16"}):e.jsx("div",{className:"text-3xl font-semibold text-foreground",children:t?.agentCount||0})})]}),e.jsxs(l,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(n,{className:"text-sm font-medium text-muted-foreground",children:"Conversations"}),e.jsx(y,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(i,{children:c?e.jsx(x,{className:"h-8 w-16"}):e.jsx("div",{className:"text-3xl font-semibold text-foreground",children:t?.conversationCount||0})})]}),e.jsxs(l,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(n,{className:"text-sm font-medium text-muted-foreground",children:"Total Messages"}),e.jsx(v,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(i,{children:c?e.jsx(x,{className:"h-8 w-16"}):e.jsx("div",{className:"text-3xl font-semibold text-foreground",children:t?.totalMessages||0})})]})]}),e.jsxs("section",{className:"grid grid-cols-1 gap-6 lg:grid-cols-[320px,1fr]",children:[e.jsxs(l,{className:"h-full",children:[e.jsxs(d,{children:[e.jsx(n,{children:"Agents"}),e.jsx(f,{children:"Your active lineup."})]}),e.jsx(i,{className:"flex flex-col gap-4",children:c?e.jsx(x,{className:"h-40 w-full"}):j?e.jsxs(e.Fragment,{children:[g.map(s=>e.jsxs(r,{href:`/portal/agents/${s.id}/chat`,className:"flex items-center gap-3 rounded-xl border border-border px-4 py-3 transition-colors hover:bg-accent",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10",children:e.jsx(m,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{className:"flex flex-1 flex-col",children:[e.jsx("p",{className:"text-sm font-semibold text-foreground",children:s.agent_name}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.usage_count||0," messages"]})]}),e.jsx(u,{className:"h-4 w-4 text-muted-foreground"})]},s.id)),e.jsx(a,{variant:"outline",className:"w-full",asChild:!0,children:e.jsx(r,{href:"/portal/agents",children:"View all agents"})})]}):e.jsxs("div",{className:"flex flex-col items-center gap-3 rounded-lg border border-dashed border-border bg-background px-6 py-8 text-center",children:[e.jsx(m,{className:"h-10 w-10 text-muted-foreground"}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("p",{className:"text-sm font-semibold text-foreground",children:"No agents yet"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Explore the marketplace to add your first agent."})]}),e.jsx(a,{asChild:!0,children:e.jsx(r,{href:"/portal/browse",children:"Explore the marketplace"})})]})})]}),e.jsxs(l,{className:"h-full",children:[e.jsxs(d,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(n,{children:"Planner"}),e.jsx(f,{children:"Upcoming tasks from your agents."})]}),e.jsx(a,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(r,{href:"/portal/activity",children:"View activity"})})]}),e.jsxs(i,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-7 gap-2 text-xs text-muted-foreground",children:[h.map(s=>e.jsx("div",{className:"text-center font-medium uppercase",children:s},s)),h.map(s=>e.jsx("div",{className:"h-16 rounded-lg border border-dashed border-border bg-muted/40"},`${s}-block`))]}),e.jsx("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:p.map(s=>e.jsxs("div",{className:"rounded-xl border border-border px-4 py-3",children:[e.jsxs("p",{className:"text-xs font-medium text-muted-foreground",children:[s.day," â€¢ ",s.time]}),e.jsx("p",{className:"text-sm font-semibold text-foreground",children:s.label})]},`${s.day}-${s.time}`))})]})]})]})]})})}export{B as default};
