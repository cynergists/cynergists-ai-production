import{r as n,s as a,j as e,m as p,H as f,aC as j,i as r,B as N,aa as v,t as y,U as w,R as C,N as P,F as k}from"./app-yl1YHj2k.js";/* empty css            */function A(){const[t,c]=n.useState(null),[m,x]=n.useState(!0);n.useEffect(()=>{(async()=>{const{data:{session:o}}=await a.auth.getSession();if(!o){r.visit("/signin");return}const{data:s,error:d}=await a.rpc("get_user_profile",{_user_id:o.user.id});if(d){console.error("Error fetching profile:",d),r.visit("/signin");return}if(s&&s.length>0){const l=s[0];if(!l.roles?.includes("partner")){r.visit("/dashboard");return}c(l)}x(!1)})();const{data:{subscription:g}}=a.auth.onAuthStateChange((o,s)=>{s||r.visit("/signin")});return()=>g.unsubscribe()},[navigate]);const u=async()=>{await a.auth.signOut(),r.visit("/signin")};if(m)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:e.jsx(p,{className:"h-8 w-8 animate-spin text-primary"})});const b=t?.status==="pending",h=t?.roles?.includes("client");return e.jsxs(e.Fragment,{children:[e.jsx(f,{children:e.jsx("title",{children:"Partner Portal | Cynergists"})}),e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("header",{className:"border-b border-border bg-card",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:j,alt:"Cynergists",className:"h-8 w-auto"}),h&&e.jsxs("div",{className:"flex items-center gap-2 ml-4 border-l border-border pl-4",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Workspace:"}),e.jsxs("select",{className:"bg-input border border-border rounded px-2 py-1 text-sm text-foreground",defaultValue:"partner",onChange:i=>{i.target.value==="client"&&r.visit("/dashboard")},children:[e.jsx("option",{value:"client",children:"Client Workspace"}),e.jsx("option",{value:"partner",children:"Partner Portal"})]})]})]}),e.jsxs(N,{variant:"ghost",size:"sm",onClick:u,className:"text-muted-foreground hover:text-foreground",children:[e.jsx(v,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:b?e.jsxs("div",{className:"bg-card border border-border rounded-xl p-8 text-center max-w-2xl mx-auto",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"h-16 w-16 rounded-full bg-yellow-500/20 flex items-center justify-center",children:e.jsx(y,{className:"h-8 w-8 text-yellow-500"})})}),e.jsx("h1",{className:"text-2xl font-bold text-foreground mb-4",children:"Application Under Review"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Thank you for applying to become a Cynergists partner. Our team is currently reviewing your application. You'll receive an email once your application has been approved."}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Have questions? Contact us at"," ",e.jsx("a",{href:"mailto:partners@cynergists.com",className:"text-primary hover:underline",children:"partners@cynergists.com"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Partner Portal"}),e.jsxs("p",{className:"text-muted-foreground",children:[t?.company_name&&`${t.company_name} | `,"Manage referrals, track commissions, and access partner resources."]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 hover:border-primary/50 transition-colors cursor-pointer",children:[e.jsx(w,{className:"h-8 w-8 text-primary mb-4"}),e.jsx("h3",{className:"font-semibold text-foreground mb-1",children:"Referrals"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Submit and track referrals"})]}),e.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 hover:border-primary/50 transition-colors cursor-pointer",children:[e.jsx(C,{className:"h-8 w-8 text-primary mb-4"}),e.jsx("h3",{className:"font-semibold text-foreground mb-1",children:"Commissions"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"View earnings and payouts"})]}),e.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 hover:border-primary/50 transition-colors cursor-pointer",children:[e.jsx(P,{className:"h-8 w-8 text-primary mb-4"}),e.jsx("h3",{className:"font-semibold text-foreground mb-1",children:"Analytics"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Performance metrics"})]}),e.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 hover:border-primary/50 transition-colors cursor-pointer",children:[e.jsx(k,{className:"h-8 w-8 text-primary mb-4"}),e.jsx("h3",{className:"font-semibold text-foreground mb-1",children:"Resources"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Marketing materials"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-card border border-border rounded-xl p-6",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Referrals"}),e.jsx("p",{className:"text-3xl font-bold text-foreground",children:"0"})]}),e.jsxs("div",{className:"bg-card border border-border rounded-xl p-6",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Active Clients"}),e.jsx("p",{className:"text-3xl font-bold text-foreground",children:"0"})]}),e.jsxs("div",{className:"bg-card border border-border rounded-xl p-6",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Earnings"}),e.jsx("p",{className:"text-3xl font-bold text-foreground",children:"$0"})]})]}),e.jsxs("div",{className:"bg-card border border-border rounded-xl p-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"Recent Activity"}),e.jsx("p",{className:"text-muted-foreground",children:"No recent activity to display."})]})]})})]})]})}export{A as default};
