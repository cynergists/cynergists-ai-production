import{u as s,w as i}from"./app-yl1YHj2k.js";import{u as r}from"./useMutation-Dt0Tk2fE.js";import{c as t}from"./admin-api-G7yaMq_z.js";const a=300*1e3,u=1800*1e3;function g(){return s({queryKey:["admin","plans"],queryFn:()=>t("get_plans"),staleTime:a,gcTime:u})}function q(){const e=i();return r({mutationFn:n=>t("create_plan",void 0,n),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","plans"]})}})}function f(){const e=i();return r({mutationFn:({id:n,...o})=>t("update_plan",{id:n},o),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","plans"]})}})}function p(){const e=i();return r({mutationFn:n=>t("delete_plan",{id:n}),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","plans"]})}})}function T(){return s({queryKey:["admin","notes"],queryFn:()=>t("get_notes"),staleTime:a,gcTime:u})}function _(){const e=i();return r({mutationFn:n=>t("create_note",void 0,n),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","notes"]})}})}function S(){const e=i();return r({mutationFn:({id:n,...o})=>t("update_note",{id:n},o),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","notes"]})}})}function v(){const e=i();return r({mutationFn:n=>t("delete_note",{id:n}),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","notes"]})}})}function C(){return s({queryKey:["admin","sessions"],queryFn:()=>t("get_sessions"),staleTime:a,gcTime:u})}function F(){return s({queryKey:["admin","page-views"],queryFn:()=>t("get_page_views"),staleTime:a,gcTime:u})}function K(){return s({queryKey:["admin","plan-interactions"],queryFn:()=>t("get_plan_interactions"),staleTime:a,gcTime:u})}function h(e){return s({queryKey:["admin","clients",e],queryFn:async()=>{const n=await getSession(),o=new URLSearchParams({page:e.page.toString(),limit:e.limit.toString(),sortColumn:e.sortColumn,sortDirection:e.sortDirection,search:e.search,filters:JSON.stringify(e.filters),includeSummary:"true"}),c=await fetch(`https://bzduprwcihnxyvrugjgg.supabase.co/functions/v1/get-clients?${o}`,{method:"GET",headers:{Authorization:`Bearer ${n.access_token}`,"Content-Type":"application/json"}});if(!c.ok){const l=await c.json();throw new Error(l.error||"Failed to fetch clients")}return c.json()},staleTime:120*1e3,gcTime:u})}function w(){return s({queryKey:["admin","settings"],queryFn:async()=>t("get_admin_settings"),staleTime:a,gcTime:u})}function Q(){const e=i();return r({mutationFn:async n=>t("save_admin_settings",void 0,n),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","settings"]})}})}export{T as a,_ as b,S as c,v as d,g as e,q as f,f as g,p as h,w as i,Q as j,C as k,F as l,K as m,h as u};
